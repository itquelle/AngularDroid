/// <reference path="../../typings/globals/jquery/index.d.ts" />

let stringRequest:void;
let TextView:any;
let Button:any;

var request = {
    Method : {
        GET : "GET",
        POST: "POST"
    }
};

class findViewById{

    view;

    constructor(id) {
        this.view = jQuery("#" + id);
    }

    setText(text:string){
        jQuery(document).ready(() => {
            this.view.text(text);
        });
    }

}
class findViewByClass{

    view;

    constructor(id) {
        this.view = jQuery("." + id);
    }

    setText(text:string){
        jQuery(document).ready(() => {
            this.view.text(text);
        });
    }

}

class StringRequest{

    constructor(requestMethod = request.Method.GET, requestUrl:any, options:object, response){

        jQuery.ajax({
            type: requestMethod,
            url: requestUrl,
            data: options,
            dataType:"json",
        }).done(function (_response) {
            response(_response);
        }).fail(function () {
            throw new Error("Konnte nicht geladen werden");
        });

    }

}

class JSONObject{

    jsonString;

    constructor(json:string) {
        try {
            this.jsonString = JSON.parse(json);
        }catch (e) {
            throw new Error("JSON kann nicht geparst werden.")
        }
    }

    getString(name){
        return this.jsonString[name];
    }

}